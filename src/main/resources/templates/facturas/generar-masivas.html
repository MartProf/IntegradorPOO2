<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: layout(title='Facturaci√≥n Masiva', content=~{::#masivas-content}, styles=~{::masivas-styles})}">

<div id="masivas-content">
    <div class="page-header">
        <h1 th:text="${titulo}">Facturaci√≥n Masiva</h1>
        <a th:href="@{/facturas}" class="btn btn-secondary">‚Üê Volver</a>
    </div>

    <div class="confirmacion-container">
        <div class="warning-box">
            <h3>‚ö†Ô∏è Atenci√≥n</h3>
            <p>Est√° por generar facturas para <strong>todos los clientes</strong> que tienen servicios o planes activos.</p>
        </div>

        <div class="info-box">
            <h4>‚ÑπÔ∏è Este proceso:</h4>
            <ul>
                <li>Generar√° una factura individual para cada cliente con servicios activos</li>
                <li>Calcular√° autom√°ticamente el tipo de factura (A, B o C) seg√∫n la condici√≥n fiscal</li>
                <li>Actualizar√° la deuda de cada cuenta</li>
                <li>Generar√° n√∫meros de factura secuenciales</li>
                <li>Puede tomar varios segundos si hay muchos clientes</li>
            </ul>
            <p><strong>Esta operaci√≥n no se puede deshacer.</strong></p>
        </div>

        <form th:action="@{/facturas/generar-masivas}" method="post">
            <div class="form-actions">
                <button type="submit" class="btn btn-danger" onclick="return confirm('¬øConfirma generar facturas masivas para todos los clientes?')">
                    üìÑ Generar Facturas Masivas
                </button>
                <a th:href="@{/facturas}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</div>

<th:block th:fragment="masivas-styles">
    <link rel="stylesheet" th:href="@{/css/facturas-generar.css}">
    <style>
        .confirmacion-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .warning-box h3 {
            margin-top: 0;
            color: #856404;
        }
        
        .warning-box p {
            margin-bottom: 0;
            color: #856404;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
    </style>
</th:block>

</html>
